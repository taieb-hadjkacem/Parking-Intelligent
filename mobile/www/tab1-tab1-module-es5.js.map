{"version":3,"sources":["webpack:///src/app/tab1/tab1.page.html","webpack:///src/app/tab1/tab1-routing.module.ts","webpack:///src/app/tab1/tab1.module.ts","webpack:///src/app/tab1/tab1.page.scss","webpack:///src/app/tab1/tab1.page.ts"],"names":["routes","path","component","Tab1PageRoutingModule","imports","forChild","exports","Tab1PageModule","declarations","Tab1Page","storageService","authService","get","AUTH","then","data","payload","getUserByUsername","subscribe","res","profiledata","getsensorData","sensordata","logout","event","createBarChart","setTimeout","target","complete","lastOne","payloadResult","availablePlace","console","log","ms","Promise","resolve","selector","template"],"mappings":"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","file":"tab1-tab1-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Parking status\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\" class=\\\"center\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Tab 1</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-item>\\n    <a style=\\\"color: #3dc2ff \\\">{{profiledata?.forename}}  {{profiledata?.surname}}</a>\\n  </ion-item>\\n  <ion-item>\\n    <a style=\\\"color: #3dc2ff \\\">{{profiledata?.location}}</a>\\n  </ion-item>\\n  <ion-button (click)=\\\"logout()\\\" color=\\\"secondary\\\">logout</ion-button>\\n  <ion-button (click)=\\\"createBarChart()\\\" color=\\\"secondary\\\">refresh</ion-button>\\n\\n\\n  <ion-list>\\n    <ion-item *ngIf=\\\"!availablePlace\\\">\\n   \\n        <img src=\\\"assets/images/red.png\\\" width=\\\"200\\\" height=\\\"200\\\">\\n\\n    </ion-item>\\n    <ion-item *ngIf=\\\"availablePlace\\\">\\n\\n        <img src=\\\"assets/images/green.png\\\" width=\\\"200\\\" height=\\\"200\\\">\\n\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab1Page } from './tab1.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab1Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab1PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab1PageRoutingModule\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","export default \".center {\\n  display: flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVFLGFBQUE7QUFBRiIsImZpbGUiOiJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2VudGVye1xyXG5cclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcbiJdfQ== */\";","import { Component , ViewChild } from '@angular/core';\nimport { StorageService } from './../services/storage.service';\nimport { AuthConstants } from '../../config/auth-constants';\nimport { AuthService } from './../services/auth.service';\nimport { Chart } from 'chart.js';\n\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page {\n  availablePlace: any;\n  colorArray: any;\n  sensordata : any;\npayload;\nprofiledata;\n  constructor(\nprivate storageService: StorageService,\nprivate authService : AuthService\n  ) {}\n  ngOnInit() {\n    this.storageService.get(AuthConstants.AUTH).then(data => {\n      this.payload = data;\n      this.authService.getUserByUsername(data['sub']).subscribe(\n        (res: any) => {\n          this.profiledata = res[0]\n        }\n      );\n      this.authService.getsensorData().then(data => {\n        this.sensordata = data;\n      });\n    });\n\n  }\n  logout(){\n    this.authService.logout();\n  }\n  doRefresh(event) {\n    this.createBarChart();\n    this.storageService.get(AuthConstants.AUTH).then(data => {\n      this.payload = data;\n      this.authService.getUserByUsername(data['sub']).subscribe(\n        (res: any) => {\n          this.profiledata = res[0]\n        }\n      );\n\n    });\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n  ionViewDidEnter() {\n    this.createBarChart();\n  }\n  createBarChart() {\n\n      this.authService.getsensorData().then(data => {\n        this.sensordata = data;\n        let lastOne = this.sensordata;\n        let payloadResult = lastOne[\"payload\"];\n        this.availablePlace = (payloadResult === \"1\");\n      });\n      console.log(this.availablePlace);\n  return true;\n  }\n   delay(ms: number) {\n    return new Promise( resolve => setTimeout(resolve, ms) );\n  }\n}\n"]}